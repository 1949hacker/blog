---
title: 硬盘容量为何达不到厂家标称的容量？硬盘容量造假缩水？
categories: [知识库]
comments: true
date: 2023-12-15 15:12:52
keywords:
    - 硬盘容量
    - 硬盘缩水
tags:
    - 硬盘
    - 基础知识
---

标注16TB的硬盘为何实际容量只有14.5T左右？硬盘容量造假？缩水？真相是。。。

<!-- more -->

因为硬盘厂家对于容量的计算是以1000为单位，而操作系统是以1024为单位，所以硬盘厂家的容量转换为操作系统识别到的容量是会低于硬盘标称的容量，根据容量单位乘除对应的单位次幂，以T为例：
```shell
# T = 1024G = 1024M = 1024K = 1024B
# 所以计算的公式应该是
容量 * 1000^4 / 1024^4
# 以16TB硬盘为例
16*1000^4/1024^4≈14.55
```

对于使用磁盘阵列的用户，容量计算方式如下：

|阵列类型|盘数|容量|阵列特征|
|---|---|---|---|
|RAID0（条带）|1块及以上|N块|拥有最快的速度和最高的容量，当然，也拥有着最低的安全性，一旦掉盘数据便会丢失|
|RAID1（镜像）|2块|一半|拥有1倍的写入速度2倍的读取速度，安全性最高，一块盘故障时还可使用镜像盘继续工作|
|RAID5（单重校验）|3块及以上|N-1|性价比最高的阵列方式，读写速度为N-1，也就是3块盘时有两块盘的速度之和，8块盘时有7块盘的速度之和，出现一块故障盘时仍然能正常工作，不丢失数据（建议单个RAID5不要超过8块盘，可将多组RAID5组RAID0也就是RAID50阵列）|
|RAID6（双重校验）|4块及以上|N-2|性价比略低于RAID5，读写速度为N-2，可故障两块盘|
|RAIDZ3（三重校验，ZFS专属）|5块盘及以上|N-3|略低于RAID6，N-3，可故障3块盘|

在ZFS文件系统中，有以下几种阵列方式：

|ZFS阵列|RAID阵列|
|---|---|
|Strip（条带）|RAID0|
|Mirror（镜像）|RAID1|
|RAIDZ1|RAID5|
|RAIDZ2|RAID6|
|RAIDZ3|无|

**2024年1月13日补充：考虑到zfs文件系统的特性，减少文件系统日志等占用容量0.5%，减少余量空间分配占用容量2.93%**

若您使用的是昱格NAS，在创建存储池时我们会默认为您做容量限制，以防存储池容量被撑爆卡死系统，会将可用容量限制为实际容量的95%

若您采购了昱格的YGENAS-VH5（桌面式5盘位NAS）且配备了5块16TB硬盘，做RAIDZ1阵列并开启默认限额，那您的实际可用容量计算公式如下：

```shell
16*1000^4/1024^4*(5-1)*(1-0.05)=55.2972 TiB

# 2024年1月13日更新后计算公式为
16*1000^4/1024^4*(5-1)*(1-0.05-0.005-0.0293)=53.3 TiB

# 计算解析
16 TB转换为TiB：*1000^4/1024^4
计算RAIDZ1 N-1容量：*(5-1)
计算zfs存储池占用容量：*(1-0.05-0.005-0.0293)
```

2024.1.13 昱格YGENAS-RH16s高性能全闪NAS配合希捷5U84磁盘扩展柜，建设了百T级U.2高性能SSD+PB级大容量HDD存储池，采用100G光纤链路发布共享，项目金额二百多万

昱格——科技智能服务商

为您提供专业虚拟化、云桌面、NAS存储等建设方案，从服务器、存储到网络全方位覆盖，一站式解决方案提供。

欢迎致电400-028-0061（亦可通过文末WeChat扫描二维码添加微信联系我，请注明来自1949hacker）