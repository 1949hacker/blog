---
title: NAS（zfs）基础知识
categories: [知识库]
date: 2024-04-02 13:01:57
keywords: 
    - NAS
    - ZFS
    - RAID
    - 存储
tags:
    - NAS
    - ZFS
    - RAID
    - 存储
---
## NAS是什么？

NAS，全称Network Attached Storage，翻译成中文就是网络附加存储。简单来说，它就是一个连接到网络上的存储设备，可以让多台电脑、智能手机、平板电脑等设备通过网络访问和共享存储空间。

<!-- more -->

NAS和传统的外接硬盘不同，它更像是一个小型的服务器，拥有自己的操作系统和处理器。你可以把NAS想象成一个能够存储大量文件的智能盒子，放在家里或者办公室的网络中，让你随时随地通过网络访问自己的文件。

使用NAS有很多好处。首先，它可以作为一个集中式的存储解决方案，让你不再需要把文件分散存储在各种设备上。其次，NAS通常具有数据备份和共享功能，可以保护你的文件免受丢失或损坏，并且可以让家人或团队成员轻松地共享文件。另外，NAS通常还提供了许多额外的功能，比如可以安装各种应用程序来扩展其功能，比如媒体服务器、下载站点等等。

总的来说，NAS就是一个连接到网络上的智能存储设备，可以让你方便地存储、备份和共享文件，是家庭和办公室网络存储的理想选择。

## NAS相对传统存储的优缺点

|优缺点|NAS|传统存储|
|---|---|---|
|容量|可以轻松扩展容量|通常受限于单个设备的容量|
|可访问性|可通过网络从任何地方访问文件|需要直接连接到设备才能访问文件|
|共享功能|能够方便地与多个用户共享文件|通常只能由一个用户使用|
|备份|提供自动备份和恢复功能|需要手动进行备份和恢复|
|数据保护|提供数据冗余和RAID功能，增强数据保护|数据保护功能通常有限|
|扩展性|可以安装各种应用程序扩展功能|功能受限于设备自身的硬件和软件功能|
|成本|初始成本较高，但长期使用成本较低|初始成本较低，但随着存储需求增长成本可能增加|
|管理复杂性|需要一定的网络和技术知识来配置和管理|简单易用，不需要复杂的配置和管理|

## NAS RAIDZ知识

YGENAS采用zfs文件系统，可以创建RAIDZ软磁盘阵列，对比传统磁盘阵列如下

|类型|zfs软RAID|传统RAID|特性|
|---|---|---|---|
|条带|Striping|RAID0|盘越多速度越快，安全性为0，掉盘则数据丢失|
|镜像|mirror|RAID1|安全性最高，传统RAID支持2个盘做镜像，一份数据存到2个盘上，软RAID则可以手动指定更多盘做镜像（通常没必要）|
|单重校验|RAID-Z1|RAID5|速度和安全性相对均衡，拥有1块校验盘所以可以允许单块盘故障|
|双重校验|RAID-Z2|RAID6|更偏向安全性，速度比单重校验略低，拥有3块校验盘所以可以允许2块盘故障|
|三重校验|RAID-Z3|无|软RAID特有，更安全但速度也低，拥有3块校验盘所以可以允许3块盘故障|
|组合RAID|可以将RAID1/5/6(RAID-Z3)，按条带方式组合，每个小RAID看作一块磁盘，如36盘分3组，每组12个盘做RAID5，最终组成RAID50，将12个为一组的RAID5看作一个大盘，这3个大盘做成一个RAID0|
|热备盘|无论是软RAID还是传统RAID，都可以添加热备盘，热备盘用于替换故障盘，在新YGENAS系统中热备盘会在掉盘时自动替换。实际应用中可以给客户解释：当RAID5出现故障盘时，若存在热备盘，则会自动第一时间替换掉故障盘，因为人工介入处理故障需要一定时间，热备盘的自动替换可以防止在人工换盘之前又出现故障盘，若RAID5同时故障两块盘则会丢失数据|

